{% extends 'base.html' %}


<body>

{% block contents %} 
<center>
<div class="container">
    {% if user.is_active %}
    <h2> Welcome, {{user.username}} </h2>

    <!--로그인이 되어있지 않은 경우-->
    {% else %}
    <h1>Login</h1>

    <form method = "POST" action="{% url 'login' %}">
        {% csrf_token %}
            
        Username : 
        <br>
        <input name="username" type="text" value="">
        <br>
        Password : 
        <br>
        <input name="password" type="password" value="">
        <br>
        <br>
        <input class="btn btn-primary" type="submit" value="Login">
    </form>

    {% endif %}
</div>
</center>
<br>



 {% for blog in posts %} <!--모든 블로그가 아니라 하나의 페이지를 대상으로 반복문을 수행하므로 posts사용-->

    <div class = "container"> <br>
        <div class="card">
        <div class="card-body">
        <h5 class="card-title">{{blog.title}}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{blog.pub_date}}</h6>
        <p class="card-text">{{blog.summary}}</p>
        <a href="{% url 'detail' blog.id %}" class="card-link">... more</a>
        </div>
        </div> <br>
    </div>

    {% endfor %}
    

    <!--First Previous 3of4 Next Last 순으로 navbar 만들기-->
    <div class="container">
        <!--First Previous-->
        {%if posts.has_previous%}
        <a href = "?page=1">First</a>
        <a href="?page={{posts.previous_page_number}}">Previous</a>
        {%endif%}

        <!--3 of 4-->
        <span>{{posts.number}}</span>
        <span>of</span>
        <span>{{posts.paginator.num_pages}}</span>

        <!--Next Last-->
        {%if posts.has_next%}
        <a href="?page={{posts.next_page_number}}">Next</a>
        <a href="?page={{posts.paginator.num_pages}}">Last</a>
        {%endif%}
    </div>

    {% endblock %}

</body>

